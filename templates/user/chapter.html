{% extends 'layout2.html' %}

{% block title %}
    Chapter
{% endblock %}

{% block content %}
    <h1>{{chapter.subject.name}}: {{chapter.name}}</h1>
    <p>{{chapter.description}}</p>
    <div style="display: flex;">
        <div class="d1">
            <h2>Past Quizzes</h2>
            {% for quiz in past_quizzes %}
            {% include 'user/quiz.html' with context %}
                <div class="divq">
                    <div style="display: flex;">
                        <h4>{{quiz.chapter.subject.name}}: &nbsp;</h4>
                        <h4>{{quiz.chapter.name}}</h4>
                        <div class="btns score"><a href="{{url_for('main.qscore',id=quiz.id)}}">Scores</a></div>
                    </div>
                    <p style="font-size: large;">Remarks: {{quiz.remarks}}</p>
                    <div style="display: flex; gap: 45px; justify-content: center;">
                        <p><i class="fa-solid fa-calendar-week fa-xl" style="color: #002b75;"></i> {{quiz.date}}</p>
                        <p><i class="fa-solid fa-clock fa-lg" style="color: #002057;"></i> {{quiz.duration}} min</p>
                        <p><i class="fa-solid fa-list-ul fa-lg" style="color: #002566;"></i> {{quiz.questions|length}} Questions</p>
                    </div>
                </div>
            {%endfor%}
        </div>
        <hr style="width: 2px; background-color: black; border: none;">
        <div class="d1">
            <h2>Upcomming Quizzes</h2>
            {% for quiz in upcoming_quizzes %}
            {% include 'user/quiz.html' with context %}
                <div class="divq">
                    <div style="display: flex;">
                        <h4>{{quiz.chapter.subject.name}}: &nbsp;</h4>
                        <h4>{{quiz.chapter.name}}</h4>
                        <div class="btns score"><a href="{{url_for('main.qscore',id=quiz.id)}}">Scores</a></div>
                        <button type="button" class="btns view" data-bs-toggle="modal" data-bs-target="#quiz{{quiz.id}}">Attempt</button>
                    </div>
                    <p style="font-size: large;">Remarks: {{quiz.remarks}}</p>
                    <div style="display: flex; gap: 45px; justify-content: center;">
                        <p><i class="fa-solid fa-calendar-week fa-xl" style="color: #002b75;"></i> {{quiz.date}}</p>
                        <p><i class="fa-solid fa-clock fa-lg" style="color: #002057;"></i> {{quiz.duration}} min</p>
                        <p><i class="fa-solid fa-list-ul fa-lg" style="color: #002566;"></i> {{quiz.questions|length}} Questions</p>
                    </div>
                </div>
            {%endfor%}
        </div>
    </div>
{% endblock %}

{% block style %}
<style>
.d1{
    width: 45%;
    margin: 10px 30px;
    padding: 10px;
}
.divq{
    width: 35vw;
    border-radius: 5px;
    background-color: #d1d1d1;
    padding: 10px;
    overflow: hidden;
    margin: 20px 0;
}
.divq:hover{
    background-color: #a5a5a5;
}
.btns{
        color: white;
        padding: 6px 6px;
        width:max-content;
        border-radius: 5px;
        margin: 0px 3px;
        background-color: inherit;
        border: none;
}
.score{
    background-color: rgb(255, 81, 0);
    font-size: 18px;
    margin-left: auto;
}
.view{
    background-color: rgb(0, 115, 255);
    font-size: 18px;
}
</style>
{% endblock %}